# Copy this file to .env and customize for your environment
# All settings have sensible defaults and are optional

DOCKER_HOST=unix:///var/run/docker.sock # or tcp://remote-docker-host:2375 (remote)

# Enable TLS verification (for remote Docker daemons)
DOCKER_TLS_VERIFY=false

# Path to TLS certificates (if TLS enabled)
# DOCKER_CERT_PATH=/path/to/certs


# MQTT broker URL
MQTT_BROKER_URL=mqtt://localhost:1883

# MQTT authentication
MQTT_USERNAME=your-username
MQTT_PASSWORD=your-password

# MQTT client ID prefix (actual ID will be prefix + unique suffix)
MQTT_CLIENT_ID_PREFIX=otto

# 0=at most once, 1=at least once, 2=exactly once
MQTT_QOS=1

MQTT_KEEPALIVE=60 # seconds


MONITORING_INTERVAL_SECONDS=5

METRICS_PUBLISH_INTERVAL_SECONDS=10

HEARTBEAT_INTERVAL_SECONDS=30

HEARTBEAT_TIMEOUT_SECONDS=90

# Grace period before triggering NFR violation (seconds)
# Prevents transient spikes from causing migrations
NFR_GRACE_PERIOD_SECONDS=30


# Default maximum CPU utilization percentage
DEFAULT_MAX_CPU_PERCENT=80.0

# Default maximum memory utilization percentage
DEFAULT_MAX_MEMORY_PERCENT=85.0

# Default maximum latency in milliseconds
DEFAULT_MAX_LATENCY_MS=100.0


# Default migration strategy
# Options: simple_stop_start, export_import, criu_checkpoint
MIGRATION_STRATEGY=simple_stop_start

# Maximum time allowed for migration (seconds)
MIGRATION_TIMEOUT_SECONDS=300

# Cooldown period between migrations of same container (seconds)
MIGRATION_COOLDOWN_SECONDS=60

# Enable automatic rollback on migration failure
ENABLE_MIGRATION_ROLLBACK=true


# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Options: json (structured logging), console (human-readable)
LOG_FORMAT=json

# Log file path (optional, defaults to stdout only)
# LOG_FILE=/var/log/otto/otto.log


# FOR TESTING
# TEST_NUM_NODES=3
# TEST_NODE_CPU_LIMIT=2.0
# TEST_NODE_MEMORY_LIMIT_MB=4096
